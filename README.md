# picgo-plugin-autobackup

![](https://img.shields.io/badge/release-v1.4.17-green) ![](https://img.shields.io/badge/License-MIT-blue)

## 简介

将图片存储在免费的公共图床是非常吸引人的，尤其是那些带有 cdn 加速的图床。然而，这些图床的稳定性总让我们担忧，如何既能让我们享受公共图床带来的便利，又能解决后顾之忧？也许将图片备份下来是个不错的选择！当公共图床失效时，我们可以重新上传这些图片，而不必担心永远失去它们，本插件就是一款专注于图片备份的插件

## 备份空间

- 本地备份
- [坚果云](https://www.jianguoyun.com/#/)

## 环境搭建

### 安装插件

GUI 用户直接在插件设置中搜索 `autobackup` 下载安装

![687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f323032322f30352f696d6167652d32303232303531323137313531383933322e706e67](https://image.krins.cloud/687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f323032322f30352f696d6167652d32303232303531323137313531383933322e706e67.png)

### 本地备份

1. 点击 `autobackup` 右下角的齿轮按钮，选择配置 Plugin

   ![687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f323032322f30352f696d6167652d32303232303531323137313534373037352e706e67](https://image.krins.cloud/687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f323032322f30352f696d6167652d32303232303531323137313534373037352e706e67.png)

3. 选择备份空间为 `Local`，填写 mark 文件路径，点击确定

   ![687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323135343732363038372e706e67](https://image.krins.cloud/687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323135343732363038372e706e67.png)

3. 再次点击 `autobackup` 右下角的齿轮按钮，选择配置本地备份

4. 输入图片备份路径，点击确定

   ![687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323135343933353937362e706e67](https://image.krins.cloud/687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323135343933353937362e706e67.png)

5. 设置完成

### 坚果云备份

1. 点击 `autobackup` 右下角的齿轮按钮，选择配置 Plugin

   ![687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f323032322f30352f696d6167652d32303232303531323137313534373037352e706e67 (1)](https://image.krins.cloud/687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f323032322f30352f696d6167652d32303232303531323137313534373037352e706e67%20(1).png)

3. 选择备份空间为 `NutStore`，填写 mark 文件路径（若填写过则不必重复填写），点击确定

   ![687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323135353531363237372e706e67](https://image.krins.cloud/687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323135353531363237372e706e67.png)

4. 再次点击 `autobackup` 右下角的齿轮按钮，选择配置坚果云备份

5. 输入坚果云邮箱，点击确定

   ![image-20230926085306889](https://image.krins.cloud/image-20230926085306889.png)

6. 前往 [坚果云安全选项](https://www.jianguoyun.com/#/safety)，点击添加应用

   ![687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323136303834393637382e706e67](https://image.krins.cloud/687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323136303834393637382e706e67.png)

6. 填写应用名称，点击生成密码

   ![687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323136313031393835392e706e67](https://image.krins.cloud/687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323136313031393835392e706e67.png)

6. 点击完成，复制生成的应用密码

   ![687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323136313133393238322e706e67](https://image.krins.cloud/687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323136313133393238322e706e67.png)

6. 粘贴复制的坚果云应用密码，点击确定

   ![687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323135353730323435342e706e67](https://image.krins.cloud/687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323135353730323435342e706e67.png)

7. 输入坚果云备份文件夹 （若不存在则自动创建），点击确定

   ![687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323136303233313335322e706e67](https://image.krins.cloud/687474703a2f2f6a696e672d696d6167652e746573742e757063646e2e6e65742f696d6167652d32303232303430323136303233313335322e706e67.png)

8. 设置完成


## Q & A

|   类别   |                     描述                      |                           解决方法                           |
| :------: | :-------------------------------------------: | :----------------------------------------------------------: |
| 本地备份 | 图片备份路径下只有一个名为 "undefined" 的文件 | 请将插件更新至 `v1.3.7+`，详情参见 [Issue](https://github.com/Redns/picgo-plugin-autobackup/issues/1) |
|  坚果云  |    备份至坚果云显示 "StatusCodeError 401"     |           配置项中需要的是 应用密码而不是账户密码            |
|    *     |               什么是 mark 文件                | mark 文件记录了图片链接和备份图片的相关信息，当图片链接失效时可根据该文件追溯备份文件，进而进行重传等操作 |




[![Star History Chart](https://api.star-history.com/svg?repos=Redns/picgo-plugin-autobackup&type=Date)](https://star-history.com/#Redns/picgo-plugin-autobackup&Date)
